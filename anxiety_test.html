<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <!-- Inter Font -->
     
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>


<style>
/*! tailwindcss v4.1.17 | MIT License | https://tailwindcss.com */
@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-border-style:solid;--tw-font-weight:initial;--tw-tracking:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000}}}@layer theme{:root,:host{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--color-yellow-100:oklch(97.3% .071 103.193);--color-yellow-400:oklch(85.2% .199 91.936);--color-yellow-700:oklch(55.4% .135 66.442);--spacing:.25rem;--container-sm:24rem;--container-2xl:42rem;--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--text-xl:1.25rem;--text-xl--line-height:calc(1.75/1.25);--text-2xl:1.5rem;--text-2xl--line-height:calc(2/1.5);--text-3xl:1.875rem;--text-3xl--line-height:calc(2.25/1.875);--font-weight-bold:700;--tracking-wider:.05em;--animate-bounce:bounce 1s infinite;--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono)}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;-webkit-text-decoration:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:currentColor}@supports (color:color-mix(in lab, red, red)){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}::-webkit-calendar-picker-indicator{line-height:1}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){appearance:button}::file-selector-button{appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}}@layer components;@layer utilities{.fixed{position:fixed}.top-5{top:calc(var(--spacing)*5)}.right-5{right:calc(var(--spacing)*5)}.left-5{left:calc(var(--spacing)*5)}.z-50{z-index:50}.container{width:100%}@media (min-width:40rem){.container{max-width:40rem}}@media (min-width:48rem){.container{max-width:48rem}}@media (min-width:64rem){.container{max-width:64rem}}@media (min-width:80rem){.container{max-width:80rem}}@media (min-width:96rem){.container{max-width:96rem}}.mx-auto{margin-inline:auto}.mt-2{margin-top:calc(var(--spacing)*2)}.mt-4{margin-top:calc(var(--spacing)*4)}.mt-6{margin-top:calc(var(--spacing)*6)}.mb-2{margin-bottom:calc(var(--spacing)*2)}.mb-4{margin-bottom:calc(var(--spacing)*4)}.mb-6{margin-bottom:calc(var(--spacing)*6)}.mb-8{margin-bottom:calc(var(--spacing)*8)}.flex{display:flex}.hidden{display:none}.h-16{height:calc(var(--spacing)*16)}.w-16{width:calc(var(--spacing)*16)}.w-100{width:calc(var(--spacing)*100)}.w-auto{width:auto}.w-full{width:100%}.max-w-2xl{max-width:var(--container-2xl)}.max-w-sm{max-width:var(--container-sm)}.min-w-min{min-width:min-content}.animate-bounce{animation:var(--animate-bounce)}.flex-col{flex-direction:column}.justify-between{justify-content:space-between}.gap-6{gap:calc(var(--spacing)*6)}.self-center{align-self:center}.rounded{border-radius:.25rem}.rounded-\[var\(--border-radius\)\]{border-radius:var(--border-radius)}.border{border-style:var(--tw-border-style);border-width:1px}.border-b-8{border-bottom-style:var(--tw-border-style);border-bottom-width:8px}.border-\[var\(--input-border\)\]{border-color:var(--input-border)}.border-yellow-400{border-color:var(--color-yellow-400)}.bg-\[var\(--input-bg\)\]{background-color:var(--input-bg)}.bg-yellow-100{background-color:var(--color-yellow-100)}.p-3{padding:calc(var(--spacing)*3)}.p-4{padding:calc(var(--spacing)*4)}.p-6{padding:calc(var(--spacing)*6)}.text-center{text-align:center}.text-2xl{font-size:var(--text-2xl);line-height:var(--tw-leading,var(--text-2xl--line-height))}.text-3xl{font-size:var(--text-3xl);line-height:var(--tw-leading,var(--text-3xl--line-height))}.text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.text-xl{font-size:var(--text-xl);line-height:var(--tw-leading,var(--text-xl--line-height))}.font-bold{--tw-font-weight:var(--font-weight-bold);font-weight:var(--font-weight-bold)}.tracking-wider{--tw-tracking:var(--tracking-wider);letter-spacing:var(--tracking-wider)}.text-\[var\(--accent-color\)\]{color:var(--accent-color)}.text-\[var\(--text-color\)\]{color:var(--text-color)}.text-yellow-700{color:var(--color-yellow-700)}.uppercase{text-transform:uppercase}.opacity-60{opacity:.6}.opacity-70{opacity:.7}.opacity-80{opacity:.8}.shadow-lg{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}@media (min-width:48rem){.md\:text-3xl{font-size:var(--text-3xl);line-height:var(--tw-leading,var(--text-3xl--line-height))}}}:root{--font-family:"Inter",sans-serif;--border-radius:10px;--transition-speed:.28s;--bg-color:#121212;--text-color:#e0e0e0;--sidebar-bg:#1e1e1e;--sidebar-border:#333;--input-bg:#2c2c2c;--input-border:#444;--input-text:#e0e0e0;--button-bg:#333;--button-text:#e0e0e0;--accent-color:#3b82f6;--shadow-color:#00000038}body.light{--bg-color:#f4f4f5;--text-color:#18181b;--sidebar-bg:#fff;--sidebar-border:#e4e4e7;--input-bg:#fff;--input-border:#d4d4d8;--input-text:#18181b;--button-bg:#e4e4e7;--button-text:#18181b;--accent-color:#2563eb;--shadow-color:#0000001a}body{background-color:var(--bg-color);color:var(--text-color);font-family:var(--font-family);transition:background-color var(--transition-speed),color var(--transition-speed);flex-direction:column;align-items:center;min-height:100vh;padding:20px;display:flex}.card{background-color:var(--sidebar-bg);border:1px solid var(--sidebar-border);border-radius:var(--border-radius);box-shadow:0 4px 6px var(--shadow-color);width:100%;max-width:600px;transition:all var(--transition-speed);padding:2rem}h1,h2,h3{margin-bottom:1rem;font-weight:600}.form-group{margin-bottom:1.5rem}label{opacity:.9;margin-bottom:.5rem;font-size:.9rem;font-weight:500;display:block}input[type=text],input[type=number],select{background-color:var(--input-bg);border:1px solid var(--input-border);width:100%;color:var(--input-text);border-radius:var(--border-radius);transition:border-color var(--transition-speed);box-sizing:border-box;outline:none;padding:.75rem}input:focus,select:focus{border-color:var(--accent-color)}.btn{background-color:var(--accent-color);color:#fff;border-radius:var(--border-radius);cursor:pointer;border:none;padding:.75rem 1.5rem;font-weight:500;transition:opacity .2s}.btn:hover{opacity:.9}.btn-secondary{background-color:var(--button-bg);color:var(--button-text)}.option-label{background-color:var(--input-bg);border:1px solid var(--input-border);border-radius:var(--border-radius);cursor:pointer;align-items:center;margin-bottom:.75rem;padding:1rem;transition:all .2s;display:flex}.option-label:hover{border-color:var(--accent-color)}.option-label input[type=radio]{accent-color:var(--accent-color);margin-right:1rem;transform:scale(1.2)}.option-label.selected{border-color:var(--accent-color);background-color:#3b82f61a}.progress-container{background-color:var(--input-border);border-radius:999px;width:100%;height:6px;margin-bottom:2rem;overflow:hidden}.progress-bar{background-color:var(--accent-color);height:100%;transition:width .3s}.hidden{display:none}.fade-in{animation:.4s ease-in-out fadeIn}@keyframes fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.theme-toggle{background:var(--sidebar-bg);border:1px solid var(--sidebar-border);color:var(--text-color);cursor:pointer;box-shadow:0 2px 10px var(--shadow-color);z-index:50;border-radius:50%;padding:10px;position:fixed;top:20px;right:20px}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-tracking{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@keyframes bounce{0%,to{animation-timing-function:cubic-bezier(.8,0,1,1);transform:translateY(-25%)}50%{animation-timing-function:cubic-bezier(0,0,.2,1);transform:none}}
</style>
</head>
<body>

    <!-- Theme Toggle Button -->
    <button class="theme-toggle" id="themeToggle" aria-label="Toggle Theme">
        <i data-lucide="sun" class="hidden" id="sunIcon"></i>
        <i data-lucide="moon" id="moonIcon"></i>
    </button>

    <div class="w-full max-w-2xl flex flex-col gap-6" id="app">
        
        <!-- STEP 1: INTRO & USER DETAILS -->
        <div id="step-intro" class="card self-center fade-in">
            <h1 class="text-2xl md:text-3xl text-center" id="testTitle">Loading...</h1>
            <p class="text-center opacity-80 mb-8" id="testInstruction"></p>
            
            <form id="userForm">
                <div id="dynamicFields"></div>
                <button type="submit" class="btn w-full mt-4">Start Assessment</button>
            </form>
        </div>

        <!-- STEP 2: QUESTIONS -->
        <div id="step-quiz" class="card hidden">
            <div class="progress-container">
                <div class="progress-bar" id="progressBar" style="width: 0%"></div>
            </div>
            
            <div id="questionContainer" class="fade-in">
                <!-- Content injected by JS -->
            </div>

            <div class="flex justify-between mt-6">
                <button id="prevBtn" class="btn btn-secondary w-auto hidden">Previous</button>
                <!-- Spacer if prev hidden -->
                <div id="spacer"></div> 
                <button id="nextBtn" class="btn w-auto">Next</button>
            </div>
        </div>

        <!-- STEP 3: RESULTS -->
        <div id="step-result" class="card hidden fade-in text-center">
            <div class="mb-6">
                <i data-lucide="activity" class="w-16 h-16 mx-auto text-[var(--accent-color)] mb-4"></i>
                <h2 class="text-3xl">Assessment Complete</h2>
            </div>
            
            <div class="bg-[var(--input-bg)] p-6 rounded-[var(--border-radius)] border border-[var(--input-border)] mb-6">
                <p class="text-sm opacity-70 uppercase tracking-wider mb-2">Your Result</p>
                <h3 class="text-2xl font-bold text-[var(--accent-color)]" id="resultTitle"></h3>
                <p class="mt-2 opacity-80" id="resultScoreDisplay"></p>
            </div>

            <p class="text-sm opacity-60 mb-8">
                Note: This is a self-reporting screening tool and does not provide a medical diagnosis.
            </p>

            <button onclick="location.reload()" class="btn btn-secondary">Retake Test</button>
        </div>

    </div>
    
<script>
const e={name:"Anxiety Test",title:"Anxiety level Test",instruction:"Choose the statement that feels like you..\n",defaults:{score:[0,1,2,3],reverse:!1},fields:[{Name:!1},{Age:!0},{Sex:!0}],logic:"sum",classification:{21:"Low Anxiety",35:"Moderate Anxiety",end:"Potentially concerning levels of anxiety"},questions:[{id:1,text:"Do you experience numbness or tingling?",labels:["I do not feel numbness or tingling","I mildly feel numbness or tingling but it doesn't bother me much","I moderately feel numbness or tingling and it wasn't pleasant","I severely feel numbness or tingling and it bothered me a lot"]},{id:2,text:"Do you experience feeling hot?",labels:["I do not experience feeling hot","I mildly experience feeling hot but it doesn't bother me much","I moderately experience feeling hot and it wasn't pleasant","I severely experience feeling hot and it bothered me a lot"]},{id:3,text:"Do you experience wobbliness in your legs?",labels:["I do not feel wobbliness in legs","I mildly experience wobbliness in legs but it doesn't bother me much","I moderately experience wobbliness in legs and it wasn't pleasant at times","I severely experience wobbliness in legs and it bothered me a lot"]},{id:4,text:"How would you describe your ability to relax?",labels:["I am able to relax","I am mildly unable to relax but it doesn't bother me much","I am moderately unable to relax and it wasn't pleasant at times","I am severely unable to relax and it bothered me a lot"]},{id:5,text:"Do you fear the worst happening?",labels:["I do not have a fear of the worst happening","I mildly have a fear of the worst happening but it doesn't bother me much","I moderately have a fear of the worst and it is not pleasant at time","I severely have a fear of the worst and it bothers me a lot"]},{id:6,text:"Do you feel dizziness or lightheadedness?",labels:["I do not feel dizziness or lightheadedness","I mildly feel dizziness or lightheadedness but it doesn't bother me much","I moderately feel dizziness or lightheadedness and it doesn't feel pleasant at times","I severely feel dizziness or lightheadedness and it bothers me a lot"]},{id:7,text:"Do you feel your heart pounding or racing?",labels:["I do not feel my heart pounding/racing","I mildly feel my heart pounding/racing but it doesn't bother me much","I moderately feel my heart pounding/racing and it doesn't feel pleasant at times","I severely feel my heart pounding/racing and it bothers me a lot"]},{id:8,text:"Do you feel unsteady?",labels:["I do not feel unsteady","I mildly feel unsteady but it doesn't bother me much","I moderately unsteady and it doesn't feel pleasant at times","I severely feel unsteady and it bothers me a lot"]},{id:9,text:"Do you feel terrified or afraid?",labels:["I do not feel terrified or afraid","I mildly feel terrified or afraid but it doesn't bother me much","I moderately feel terrified or afraid and it doesn't feel pleasant at times"]},{id:10,text:"Do you feel nervous?",labels:["I do not feel nervous","I mildly feel nervous but it doesn't bother me much","I moderately feel nervous and it doesn't feel pleasant at times","I severely feel nervous and it bothers me a lot"]},{id:11,text:"Do you experience a feeling of choking?",labels:["I do not have a feeling of choking","I mildly have a feeling of choking but it doesn't bother me much","I moderately have a feeling of choking and it doesn't feel pleasant at times","I severely have a feeling of choking and it bothers me a lot"]},{id:12,text:"Do your hands tremble?",labels:["I do not experience hands trembling","I mildly experience hands trembling but it doesn't bother me much","I moderately experience hands trembling and it doesn't feel pleasant at times","I severely experience hands trembling and it bothers me a lot"]},{id:13,text:"Do you feel shaky or unsteady?",labels:["I do not feel shaky/unsteady","I mildly feel shaky/unsteady but it doesn't bother me much","I moderately feel shaky/unsteady and it doesn't feel pleasant at times","I severely feel shaky/unsteady and it bothers me a lot"]},{id:14,text:"Do you fear losing control?",labels:["I do not have a fear of losing control","I mildly have a fear of losing control but it doesn't bother me much","I moderately have a fear of losing control and it doesn't feel pleasant at times","I severely have a fear of losing control and it bothers me a lot"]},{id:15,text:"Do you have difficulty breathing?",labels:["I do not have difficulty in breathing","I mildly have difficulty in breathing but it doesn't bother me much","I moderately have difficulty in breathing and it doesn't feel pleasant at times","I severely have difficulty in breathing and it bothers me a lot"]},{id:16,text:"Do you have a fear of dying?",labels:["I do not have a fear of dying","I mildly have a fear of dying but it doesn't bother me much","I moderately have a fear of dying and it doesn't feel pleasant at times","I severely have a fear of dying and it bothers me a lot"]},{id:17,text:"Do you feel scared?",labels:["I do not feel scared","I mildly feel scared but it doesn't bother me much","I moderately feel scared and it doesn't feel pleasant at times","I severely feel scared and it bothers me a lot"]},{id:18,text:"Do you experience indigestion?",labels:["I do not experience indigestion","I mildly experience indigestion but it doesn't bother me much","I moderately experience indigestion and it doesn't feel pleasant at times","I severely experience indigestion and it bothers me a lot"]},{id:19,text:"Do you feel faint or lightheaded?",labels:["I do not feel faint/lightheaded","I mildly feel faint/lightheaded but it doesn't bother me much","I moderately feel faint/lightheaded and it doesn't feel pleasant at times","I severely feel faint/lightheaded and it bothers me a lot"]},{id:20,text:"What is your experience with face flushed?",labels:["I do not have face flushed","I mildly have face flushed but it doesn't bother me much","I moderately have face flushed and it doesn't feel pleasant at times","I severely have face flushed and it bothers me a lot"]},{id:21,text:"Do you experience hot or cold sweats?",labels:["I do not have hot/cold sweats","I mildly have hot/cold sweats but it doesn't bother me much","I moderately hot/cold sweats and it doesn't feel pleasant at times","I severely have hot/cold sweats and it bothers me a lot"]}]};let t=0,n={},o={};const l={introStep:document.getElementById("step-intro"),quizStep:document.getElementById("step-quiz"),resultStep:document.getElementById("step-result"),testTitle:document.getElementById("testTitle"),testInstruction:document.getElementById("testInstruction"),dynamicFields:document.getElementById("dynamicFields"),userForm:document.getElementById("userForm"),questionContainer:document.getElementById("questionContainer"),progressBar:document.getElementById("progressBar"),nextBtn:document.getElementById("nextBtn"),prevBtn:document.getElementById("prevBtn"),resultTitle:document.getElementById("resultTitle"),resultScoreDisplay:document.getElementById("resultScoreDisplay"),themeToggle:document.getElementById("themeToggle"),sunIcon:document.getElementById("sunIcon"),moonIcon:document.getElementById("moonIcon"),body:document.body};l.userForm.addEventListener("submit",e=>{e.preventDefault();const t=new FormData(l.userForm);for(let[e,n]of t.entries())o[e]=n;l.introStep.classList.add("hidden"),l.quizStep.classList.remove("hidden"),d()}),l.nextBtn.addEventListener("click",()=>{const o=e.questions[t],a=o.type||(e.defaults?e.defaults.type:"mcq")||"mcq";let i=null;if("mcq"===a){const e=document.querySelector('input[name="answer"]:checked');if(!e)return void alert("Please select an option.");i=isNaN(parseInt(e.value))?e.value:parseInt(e.value)}else if("number"===a){const e=document.getElementById("q-number-input");if(!e.value)return void alert("Please enter a number.");i=parseFloat(e.value)}else if("time"===a){const e=document.getElementById("q-time-input");if(!e.value)return void alert("Please enter a time.");i=e.value}n[o.id]=i,t<e.questions.length-1?(t++,d()):function(){l.quizStep.classList.add("hidden"),l.resultStep.classList.remove("hidden");let t=0;if(e.logic){let o=e.logic;if("sum"===o.toLowerCase())Object.values(n).forEach(e=>{"number"==typeof e&&(t+=e)});else try{const e=o.replace(/\$(\d+)/g,(e,t)=>{const o=n[t];return null==o?0:"string"==typeof o&&o.includes(":")?function(e){if(!e||"string"!=typeof e||!e.includes(":"))return 0;const[t,n]=e.split(":").map(Number);return t+n/60}(o):o});console.log("Evaluating:",e),t=new Function("return "+e)(),t=Math.round(100*t)/100}catch(e){console.error("Error parsing logic:",e),t=0,alert("Error calculating score. Please check console.")}}else Object.values(n).forEach(e=>{"number"==typeof e&&(t+=e)});const o=Object.keys(e.classification).sort((e,t)=>"end"===e?1:"end"===t?-1:parseInt(e)-parseInt(t));let a="";for(let n of o){if("end"===n){a=e.classification[n];break}if(t<=parseFloat(n)){a=e.classification[n];break}}l.resultTitle.textContent=a,l.resultScoreDisplay.textContent=`Total Score: ${t}`}()}),l.prevBtn.addEventListener("click",()=>{t>0&&(t--,d())});const a=localStorage.getItem("theme"),i=document.documentElement;function s(e){e?(sunIcon.classList.add("hidden"),moonIcon.classList.remove("hidden")):(sunIcon.classList.remove("hidden"),moonIcon.classList.add("hidden"))}function d(){const o=e.questions[t],a=e.questions.length,i=t/a*100;l.progressBar.style.width=`${i}%`,l.questionContainer.innerHTML="";const s=document.createElement("h2");s.className="text-xl mb-4",s.textContent=`${t+1}. ${o.text}`,l.questionContainer.appendChild(s);const d=o.type||(e.defaults?e.defaults.type:"mcq")||"mcq";if("mcq"===d){const t=o.labels||(e.defaults?e.defaults.labels:[]),a=e.defaults&&e.defaults.score?e.defaults.score:t.map((e,t)=>t);t.forEach((e,t)=>{const i=a[t],s=document.createElement("label");s.className="option-label";const d=document.createElement("input");d.type="radio",d.name="answer",d.value=i,n[o.id]===i&&(d.checked=!0,s.classList.add("selected")),d.addEventListener("change",()=>{document.querySelectorAll(".option-label").forEach(e=>e.classList.remove("selected")),s.classList.add("selected")});const r=document.createElement("span");r.textContent=e,s.appendChild(d),s.appendChild(r),l.questionContainer.appendChild(s)})}else if("number"===d){const e=document.createElement("input");e.type="number",e.id="q-number-input",e.className="w-full p-3 rounded border border-[var(--input-border)] bg-[var(--input-bg)] text-[var(--text-color)] mt-2",e.placeholder="Enter number...",void 0!==n[o.id]&&(e.value=n[o.id]),l.questionContainer.appendChild(e)}else if("time"===d){const e=document.createElement("input");e.type="time",e.id="q-time-input",e.className="w-full p-3 rounded border border-[var(--input-border)] bg-[var(--input-bg)] text-[var(--text-color)] mt-2",void 0!==n[o.id]&&(e.value=n[o.id]),l.questionContainer.appendChild(e)}0===t?l.prevBtn.classList.add("hidden"):l.prevBtn.classList.remove("hidden"),l.nextBtn.textContent=t===a-1?"Finish":"Next"}"light"===a?(i.classList.remove("dark"),s(!0)):(i.classList.add("dark"),s(!1)),l.themeToggle.addEventListener("click",()=>{l.body.classList.toggle("light");l.body.classList.contains("light")?(document.getElementById("moonIcon").classList.add("hidden"),document.getElementById("sunIcon").classList.remove("hidden"),localStorage.setItem("theme","light")):(document.getElementById("moonIcon").classList.remove("hidden"),document.getElementById("sunIcon").classList.add("hidden"),localStorage.setItem("theme","dark"))}),window.alert=function(e,t){let n="Empty Response",o="";void 0===t?o=e:(n=e,o=t);const l=document.createElement("div");l.className="\n        bg-yellow-100 \n        border-b-8 \n        min-w-min \n        w-auto \n        max-w-sm\n        border-yellow-400 \n        text-yellow-700 \n        p-4 \n        animate-bounce \n        fixed \n        top-5 \n        left-5 \n        z-50 \n        shadow-lg \n        rounded\n    ".replace(/\s+/g," "),l.setAttribute("role","alert"),l.innerHTML=`\n      <p class="font-bold">${n}</p>\n      <p>${o}</p>\n    `,document.body.appendChild(l),setTimeout(()=>{l.remove()},1e3)},document.title=e.title,l.testTitle.textContent=e.title,l.testInstruction.textContent=e.instruction,l.testInstruction.style.whiteSpace="pre-line",e.fields&&e.fields.forEach(e=>{const t=Object.keys(e)[0],n=e[t],o=document.createElement("div");o.className="form-group";const a=document.createElement("label");let i;a.textContent=t+(n?" *":""),o.appendChild(a),"sex"===t.toLowerCase()||"gender"===t.toLowerCase()?(i=document.createElement("select"),i.style.padding="0.75rem",i.innerHTML='\n                    <option value="" disabled selected>Select...</option>\n                    <option value="Male">Male</option>\n                    <option value="Female">Female</option>\n                    <option value="Other">Other</option>\n                '):"age"===t.toLowerCase()?(i=document.createElement("input"),i.type="number"):(i=document.createElement("input"),i.type="text"),i.name=t,n&&(i.required=!0),o.appendChild(i),l.dynamicFields.appendChild(o)}),"undefined"!=typeof lucide&&lucide.createIcons();
</script>
</body>
</html>